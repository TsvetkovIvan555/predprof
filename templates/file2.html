<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тестовый сайт</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background-color: #343a40;
            color: white;
        }
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
        }
        .question-container {
            margin-top: 20px;
        }
        .hidden {
            display: none;
        }
        .subtopic {
            margin-left: 20px;
        }
    </style>
</head>
<body style="background:#2D2D2D">
<header class="fixed-top">
        <nav class="navbar navbar-dark navbar-expand-md py-3" style="background: #2b2b2b">
            <div class="container">
                <a class="navbar-brand d-flex align-items-center" href="/">
                    <span class="bs-icon-sm bs-icon-rounded bs-icon-primary d-flex justify-content-center align-items-center me-2 bs-icon">
                    </span>
                    <span style="margin-left: 5px;">KEFteme</span>
                </a>
                <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-5">
                    <span class="visually-hidden">Toggle navigation</span>
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navcol-5">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                    </ul>
                    <a class="btn ms-md-2" role="button" href="/signup" style="--bs-warning: #ffc107;--bs-warning-rgb: 255,193,7;
                    background: rgb(105,90,44);border-color:rgb(105,90,44)">
                        <span style="color: rgb(255, 255, 255);">Sign up</span>
                    </a>
                    <a class="btn btn-primary ms-md-2" role="button" href="#" style="transform: perspective(0px);
                    margin: 1px;margin-left: 10px;">
                        <span style="">Log in</span>
                    </a>
                </div>
            </div>
        </nav>
    </header>
    <br><br><br><br>
<div class="container">
    <h1 class="text-center">Тест по темам</h1>

    <div class="form-group">
        <label for="topicSelect">Выберите темы:</label>
        <div id="topicSelectContainer">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="math" id="math">
                <label class="form-check-label" for="math">Математика</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="history" id="history">
                <label class="form-check-label" for="history">История</label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="science" id="science">
                <label class="form-check-label" for="science">Наука</label>
            </div>
        </div>
    </div>

    <div class="form-group hidden" id="subtopicContainer">
        <h5>Выберите подтемы:</h5>
        <div id="subtopics"></div>
    </div>

    <div class="question-container hidden" id="questionContainer">
        <h3 id="questionText"></h3>
        <input type="text" class="form-control" id="answerInput" placeholder="Ваш ответ">
        <button class="btn btn-primary mt-2" id="showAnswerButton">Показать правильный ответ</button>
        <div id="correctAnswer" class="mt-2 hidden"></div>
    </div>

    <button class="btn btn-secondary mt-4" id="startTestButton" disabled>Начать тест</button>
</div>
<script>
    const questions = {
        math: {
            question: "Сколько будет 2 + 2?",
            answer: "4",
            subtopics: {
                "teoria_chisel": "Теория чисел",
                "kombinatorika": "Комбинаторика",
                "arifmetika": "Арифметика",
                "grafy": "Графы"
            }
        },
        history: {
            question: "Кто был первым президентом США?",
            answer: "Джордж Вашингтон",
            subtopics: {
                "drevnyaya_istoriy": "Древняя история",
                "novaya_istoriy": "Новая история",
                "mir_voyny": "Мировые войны"
            }
        },
        science: {
            question: "Какой химический элемент имеет символ 'O'?",
            answer: "Кислород",
            subtopics: {
                "biologiya": "Биология",
                "khimiya": "Химия",
                "fizika": "Физика"
            }
        }
    };

    const topicSelectContainer = document.getElementById('topicSelectContainer');
    const subtopicContainer = document.getElementById('subtopicContainer');
    const subtopics = document.getElementById('subtopics');
    const questionContainer = document.getElementById('questionContainer');
    const questionText = document.getElementById('questionText');
    const answerInput = document.getElementById('answerInput');
    const showAnswerButton = document.getElementById('showAnswerButton');
    const correctAnswer = document.getElementById('correctAnswer');
    const startTestButton = document.getElementById('startTestButton');

    topicSelectContainer.addEventListener('change', function() {
        const selectedTopics = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(el => el.value);
        subtopics.innerHTML = '';


        if (selectedTopics.length > 0) {
            selectedTopics.forEach(topic => {
                for (const [key, value] of Object.entries(questions[topic].subtopics)) {
                    subtopics.innerHTML += `
                        <div class="form-check subtopic">
                            <input class="form-check-input" type="checkbox" value="${key}" id="${key}">
                            <label class="form-check-label" for="${key}">${value}</label>
                        </div>`;
                }
            });
            subtopicContainer.classList.remove('hidden');
            startTestButton.disabled = false;
            questionContainer.classList.add('hidden');
        } else {
            subtopicContainer.classList.add('hidden');
            startTestButton.disabled = true;
            questionContainer.classList.add('hidden');
        }
    });

    startTestButton.addEventListener('click', function() {
        const selectedTopics = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(el => el.value);
        if (selectedTopics.length > 0) {
            const firstSelectedTopic = selectedTopics[0]; // Берем первый выбранный предмет
            questionText.textContent = questions[firstSelectedTopic].question;
            questionContainer.classList.remove('hidden');
            correctAnswer.classList.add('hidden');
        }
    });
    showAnswerButton.addEventListener('click', function() {
        const selectedTopics = Array.from(document.querySelectorAll('input[type="checkbox"]:checked')).map(el => el.value);
        if (selectedTopics.length > 0) {
            const firstSelectedTopic = selectedTopics[0]; // Берем первый выбранный предмет
            correctAnswer.textContent = "Правильный ответ: " + questions[firstSelectedTopic].answer;
            correctAnswer.classList.remove('hidden');
        }
    });
</script>
<footer class="text-center" style="background: #2D2D2D;">
        <div class="container text-white py-4 py-lg-5">
            <ul class="list-inline">
                <li class="list-inline-item me-4"><a class="link-light text-decoration-none" href="#">Web design</a></li>
                <li class="list-inline-item me-4"><a class="link-light text-decoration-none" href="#">Development</a></li>
                <li class="list-inline-item"><a class="link-light text-decoration-none" href="#">Hosting</a></li>
            </ul>
            <p style="color: rgba(255,255,255,0.75)">Copyright © 2024 IT Monkeys</p>
        </div>
    </footer>
</body>
</html>

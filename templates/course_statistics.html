<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Group Statistics - KEFteme</title>

</head>

<body>
<header class="fixed-top">
    <nav class="navbar navbar-dark navbar-expand-md py-3" style="background: #2b2b2b">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="/">
                    <span class="bs-icon-sm bs-icon-rounded bs-icon-primary d-flex justify-content-center align-items-center me-2 bs-icon">
                    </span>
                <span style="margin-left: 5px;">
                        <img width="25" height="25" src="https://img.icons8.com/ios-glyphs/50/EBEBEB/motarboard.png" alt="motarboard"/>
                        KEFteme</span>
            </a>
            {% if user == 1 %}
            <div class="collapse navbar-collapse" id="navcol-4">
                <ul class="navbar-nav ms-auto">
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/signup">Sign up</a>
                    </li>
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/log_in">Log in</a>
                    </li>
                </ul>
            </div>
            {% elif user == 2 %}
            <div class="collapse navbar-collapse" id="navcol-5">
                <ul class="navbar-nav ms-auto">
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/pers_cab">Personal account</a>
                    </li>
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/sign_out">Sign out</a>
                    </li>
                </ul>
            </div>
            {% else %}
            <div class="collapse navbar-collapse" id="navcol-6">
                <ul class="navbar-nav ms-auto">
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/add_task">Add task</a>
                    </li>
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/add_course">Add course</a>
                    </li>
                    <li class="btn ms-md-2 buttons">
                        <a class="nav-link" href="/sign_out">Sign out</a>
                    </li>
                </ul>
            </div>
            {% endif %}
        </div>
    </nav>
</header>
<section>
    <div class="px-5">
        <h2 class="text-center"><span style="color: rgb(255, 255, 255);">Group Statistics</span></h2>
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>Student Name</th>
                {% for task in tasks %}
                <th>{{ task.name }}</th>
                {% endfor %}
                <th>Overall Completion</th>
            </tr>
            </thead>
            <tbody>
            {% for student in students %}
            <tr>
                <td>{{ student.name }}</td>
                {% for task in tasks %}
                <td style="background-color: {% if task.results[loop.index0] >= 80 %}green{% elif task.results[loop.index0] >= 50 %}yellow{% else %}red{% endif %};">
                    {{ task.results[loop.index0] }}%
                </td>
                {% endfor %}
                <td style="background-color: {% if student.overall_completion >= 80 %}green{% elif student.overall_completion >= 50 %}yellow{% else %}red{% endif %};">
                    {{ student.overall_completion }}%
                </td>
            </tr>
            {% endfor %}
            </tbody>
            <tfoot>
            <tr>
                <td><strong>Overall Group Completion</strong></td>
                {% for task in tasks %}
                <td style="background-color: {% if task.overall_completion >= 80 %}green{% elif task.overall_completion >= 50 %}yellow{% else %}red{% endif %};">
                    {{ task.overall_completion }}%
                </td>
                {% endfor %}
                <td style="background-color: {% if overall_group_completion >= 80 %}green{% elif overall_group_completion >= 50 %}yellow{% else %}red{% endif %};">
                    {{ overall_group_completion }}%
                </td>
            </tr>
            </tfoot>
        </table>
        <br>
        <div class="text-center">
            <h4 style="color: rgba(255, 255, 255, 0.75);">Overall Group Completion: {{ overall_group_completion }}%</h4>
            <div style="background-color: {% if overall_group_completion >= 80 %}green{% elif overall_group_completion >= 50 %}yellow{% else %}red{% endif %}; padding: 10px;">
                {{ overall_group_completion }}%
            </div>
        </div>
    </div>
</section>
<footer class="text-center" style="#121212">
    <div class="container text-white py-4 py-lg-5">
        <ul class="list-inline">
            <li class="list-inline-item me-4"><a class="link-light text-decoration-none" href="#">Web design</a></li>
            <li class="list-inline-item me-4"><a class="link-light text-decoration-none" href="#">Development</a></li>
            <li class="list-inline-item"><a class="link-light text-decoration-none" href="#">Hosting</a></li>
        </ul>
        <p style="color: rgba(255, 255, 255, 0.75);">Copyright Â© 2024 KEFteme</p>
    </div>
</footer>
</body>

</html>
